
model route_plans {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id        String    @db.Uuid
  name           String?
  waypoints      Json?     @db.Json
  geometry       Json?     @db.Json
  distance       Float?    @default(0)
  estimated_time Int?      @default(0)
  created_at     DateTime? @default(now()) @db.Timestamptz(6)
  profiles       profiles  @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@schema("public")
}

model training_plans {
  id                 String               @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id            String               @db.Uuid
  goal               String?
  level              String?
  start_date         DateTime?            @db.Timestamptz(6)
  duration_weeks     Int?
  created_at         DateTime?            @default(now()) @db.Timestamptz(6)
  profiles           profiles             @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  scheduled_workouts scheduled_workouts[]

  @@schema("public")
}

model scheduled_workouts {
  id              String         @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  plan_id         String         @db.Uuid
  day_offset      Int?
  target_distance Float?
  target_pace     String?
  is_completed    Boolean?       @default(false)
  training_plans  training_plans @relation(fields: [plan_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@schema("public")
}
